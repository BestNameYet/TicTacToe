<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>CC</title>
    <SCRIPT TYPE="TEXT/JAVASCRIPT">
      var xTurn = true;
      var gameOver = false;
      var numMoves = 0;
      function checkWin()
      {
       var status = document.getElementById('status');
       var val0;
       var val1;
       var val2;

       // check columns
       for(var y = 0; y < 3; y++)
       {
         val0 = document.getElementById('0_'+y).value;
         val1 = document.getElementById('1_'+y).value;
         val2 = document.getElementById('2_'+y).value;
         if(val0 == 'X' && val1 == 'X' && val2 == 'X')
         {
            status.innerHTML = "X WINS!";
            return true;
         }
         else if(val0 == 'O' && val1 == 'O' && val2 == 'O')
         {
            status.innerHTML = "O WINS!";
            return true;
         }
       }

       // check rows
       for(var x = 0; x < 3; x++)
       {
         val0 = document.getElementById(x + '_0').value;
         val1 = document.getElementById(x + '_1').value;
         val2 = document.getElementById(x + '_2').value;
         if(val0 == 'X' && val1 == 'X' && val2 == 'X')
         {
            status.innerHTML = "X WINS!";
            return true;
         }
         else if(val0 == 'O' && val1 == 'O' && val2 == 'O')
         {
            status.innerHTML = "O WINS!";
            return true;
         }
       }

       // check top left to lower right diagonal
       val0 = document.getElementById('0_0').value;
       val1 = document.getElementById('1_1').value;
       val2 = document.getElementById('2_2').value;
       if(val0 == 'X' && val1 == 'X' && val2 == 'X')
       {
         status.innerHTML = "X WINS!";
         return true;
       }
       else if(val0 == 'O' && val1 == 'O' && val2 == 'O')
       {
         status.innerHTML = "O WINS!";
         return true;
       }

       // check lower left to top right diagonal
       val0 = document.getElementById('2_0').value;
       val1 = document.getElementById('1_1').value;
       val2 = document.getElementById('0_2').value;
       if(val0 == 'X' && val1 == 'X' && val2 == 'X')
       {
         status.innerHTML = "X WINS!";
       return true;
       }
       else if(val0 == 'O' && val1 == 'O' && val2 == 'O')
       {
         status.innerHTML = "O WINS!";
         return true;
       }

       // no winner yet  return false;
      }
      function squareclicked(square){
       
       var status = document.getElementById('status');
       var value = square.value;
       if(gameOver)
         {
           alert("The game is already over.");
           return;
         }
       if(value != 'X' && value != 'O'){
        if(xTurn){
          numMoves++;
          square.value = 'X';
          xTurn = false;
          status.innerHTML = 'O\'s turn';
        }
        else{
          numMoves++;
          square.value = 'O';
          xTurn = true;
          status.innerHTML = 'X\'s turn';
        }
         var winner = checkWin();
         if(!winner)
         {
           //check to see if there is a tie
           if(numMoves == 9)
              status.innerHTML = 'Tie Game!';
         }
         else
           gameOver = true;
       }
       else{
         alert('That square has already been played.');
       }
      }
      function newgame(){
        var status = document.getElementById('status');

        xTurn = true;
        status.innerHTML = 'X\'s turn';
        numMoves = 0;
        gameOver = false;
        for(var x = 0; x < 3; x++)
        {
          for(var y = 0; y < 3; y++)
          {
             document.getElementById(x + '_' + y).value = ' ';
          }
        }
      }
    </SCRIPT>
  </head>
  <body>
    <INPUT TYPE="BUTTON" ID="0_0" VALUE="   " ONCLICK="squareclicked(this);">
    <INPUT TYPE="BUTTON" ID="1_0" VALUE="   " ONCLICK="squareclicked(this);">
    <INPUT TYPE="BUTTON" ID="2_0" VALUE="   " ONCLICK="squareclicked(this);">
    <BR>
    <INPUT TYPE="BUTTON" ID="0_1" VALUE="   " ONCLICK="squareclicked(this);">
    <INPUT TYPE="BUTTON" ID="1_1" VALUE="   " ONCLICK="squareclicked(this);">
    <INPUT TYPE="BUTTON" ID="2_1" VALUE="   " ONCLICK="squareclicked(this);">
    <BR>
    <INPUT TYPE="BUTTON" ID="0_2" VALUE="   " ONCLICK="squareclicked(this);">
    <INPUT TYPE="BUTTON" ID="1_2" VALUE="   " ONCLICK="squareclicked(this);">
    <INPUT TYPE="BUTTON" ID="2_2" VALUE="   " ONCLICK="squareclicked(this);">
    <BR>
    <P ID="status">X's turn</P>
    <INPUT TYPE="BUTTON" ID="NEWGAME" VALUE="New Game" ONCLICK="newgame();">
  </body>
</html>
